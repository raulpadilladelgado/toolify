<html lang="ES">
<head>
    <title>Toolify</title></head>
<body>
{% for playlist_name in playlists %}
<li>{{playlist_name}} - {{playlists.get(playlist_name)}}</li>
<button id='{{playlists.get(playlist_name)}}' class="reorder">Order by release date (desc)</button>
{% endfor %}
<script>
    var aguacate = document.getElementsByClassName('reorder');
    for (let i = 0; i < aguacate.length; i++) {
        aguacate[i].addEventListener('click', function () {
            var http = new XMLHttpRequest();
            var url = 'http://127.0.0.1:5000/order';
            var params = 'playlist=' + aguacate[i].id;
            http.open('POST', url, true);

            //Send the proper header information along with the request
            http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

            http.onreadystatechange = function() {//Call a function when the state changes.
                if(http.readyState === 4 && http.status === 200) {
                    alert("PLAYLIST WAS ORDERED");
                }
            }
            http.send(params);
        });
    }
</script>
</body>
</html>